(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{321:function(s,t,e){s.exports=e.p+"assets/img/vm_com_setting.79d9b15b.jpg"},322:function(s,t,e){s.exports=e.p+"assets/img/windbg_vm_msconfig_setting.52e83c21.jpg"},323:function(s,t,e){s.exports=e.p+"assets/img/windbg_pipe_setting.3792a225.jpg"},324:function(s,t,e){s.exports=e.p+"assets/img/windbg_usbview_dbgport.ef1b72d0.jpg"},325:function(s,t,e){s.exports=e.p+"assets/img/USB_XHCI_SOCBDF.48f233e7.jpg"},426:function(s,t,e){"use strict";e.r(t);var a=e(11),n=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"windbg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windbg"}},[s._v("#")]),s._v(" Windbg")]),s._v(" "),t("h2",{attrs:{id:"环境搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[s._v("#")]),s._v(" 环境搭建")]),s._v(" "),t("h4",{attrs:{id:"共同操作：下载并安装windbg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#共同操作：下载并安装windbg"}},[s._v("#")]),s._v(" 共同操作：下载并安装windbg")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://aka.ms/windbg/download",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载windbg"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("为windbg 设置 symbol 系统环境变量：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("变量名：_NT_SYMBOL_PATH\n变量值：d:Symbols;SRV*d:\\Symbols*http://msdl.microsoft.com/download/symbols\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"windbg-pipe-管道链接虚拟机："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windbg-pipe-管道链接虚拟机："}},[s._v("#")]),s._v(" windbg pipe 管道链接虚拟机：")]),s._v(" "),t("h5",{attrs:{id:"虚拟机端设置：使用端口1会时常发生无法链接上问题，所以我使用的是端口2，做如下设置并关闭secureboot-安全启动："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#虚拟机端设置：使用端口1会时常发生无法链接上问题，所以我使用的是端口2，做如下设置并关闭secureboot-安全启动："}},[s._v("#")]),s._v(" 虚拟机端设置：使用端口1会时常发生无法链接上问题，所以我使用的是端口2，做如下设置并关闭Secureboot 安全启动：")]),s._v(" "),t("img",{staticStyle:{width:"100%"},attrs:{src:e(321)}}),s._v(" "),t("p",[s._v("虚拟机开启在管理员权限下运行如下cmd命令开启测试模式：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("bcdedit /set test signing on\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("win+r快捷键打开运行键入msconfig,做如下设置：")]),s._v(" "),t("img",{staticStyle:{width:"100%"},attrs:{src:e(322)}}),s._v(" "),t("p",[s._v("关机重启后虚拟机端设置完毕。")]),s._v(" "),t("p",[s._v("打开windbg -》文件-》Attach to kernel做如下设置：")]),s._v(" "),t("img",{staticStyle:{width:"100%"},attrs:{src:e(323)}}),s._v(" "),t("p",[s._v("点击OK按钮，链接成功。")]),s._v(" "),t("h3",{attrs:{id:"windbg-usb3-链接实体机器："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windbg-usb3-链接实体机器："}},[s._v("#")]),s._v(" windbg usb3 链接实体机器：")]),s._v(" "),t("p",[s._v("•目标机器在bios setup中disable secure boot;")]),s._v(" "),t("p",[s._v("•用usb view 查看usb xhci 控制器的信息")]),s._v(" "),t("img",{staticStyle:{width:"100%"},attrs:{src:e(324)}}),s._v(" "),t("p",[s._v("•用usb view 查看所使用的usb口所在的主控芯片的bus,device,function号：如下图为B:0,D:20,F:0.")]),s._v(" "),t("img",{staticStyle:{width:"100%"},attrs:{src:e(325)}}),s._v(" "),t("p",[s._v("测试机管理员运行如下cmd  注：TargetName 修改为自己想要的名称:")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('bcdedit /debug on\nbcdedit /dbgsettings usb targetname:TargetName \nbcdedit /set "{dbgsettings}" busparams b.d.f //usb view 查看所使用的usb口所在的主控芯片的bus,device,function号\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"windbg-lan-链接实体机器："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#windbg-lan-链接实体机器："}},[s._v("#")]),s._v(" windbg lan 链接实体机器：")]),s._v(" "),t("p",[s._v("•Disable "),t("strong",[s._v("secure boot")])]),s._v(" "),t("p",[s._v("•测试机和目标机器必须处于同一网段")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("Hostip:192.168.0.100\nTargetip:192.168.0.102\nRecommend Port range :50000-50039 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("•Closewindows Defender Firewall")]),s._v(" "),t("p",[s._v("测试机管理员权限运行如下命令：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('bcdedit /debug on\nbcdedit /set "{dbgsettings}" busparams b.d.f\nBCDEDIT /dbgsettings net hostip:192.168.1.100 port:50001\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);