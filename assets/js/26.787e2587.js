(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{326:function(s,n,e){s.exports=e.p+"assets/img/image-20230807101357916.a9dbb27d.jpg"},447:function(s,n,e){"use strict";e.r(n);var t=e(11),a=Object(t.a)({},(function(){var s=this,n=s._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h4",{attrs:{id:"man函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#man函数"}},[s._v("#")]),s._v(" man函数")]),s._v(" "),n("p",[s._v("写一个main函数和普通函数看看汇编指令的差异")]),s._v(" "),n("img",{staticStyle:{width:"100%"},attrs:{src:e(326)}}),s._v(" "),n("p",[s._v("从汇编代码上看 main和func无差异，写一个普通函数的c文件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('#include <stdio.h>\n#include <stdlib.h>\nvoid func()\n\n{\n    printf("\\nhello world\\n\\n");\n    exit(0);\n}\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("编译结果报错找不到main：\nPS C:\\Users\\shoucheng.mi\\Desktop\\out> g++ test.cpp\nc:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../libmingw32.a(main.o):(.text.startup+0xa0): undefined reference to `WinMain@16'\ncollect2.exe: error: ld returned 1 exit status\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("使用下面参数编译")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("gcc -nostartfiles -efunc test.cpp\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("PS C:\\Users\\shoucheng.mi\\Desktop\\out> gcc -nostartfiles -efunc test.cpp\nc:/mingw/bin/../lib/gcc/mingw32/6.3.0/../../../../mingw32/bin/ld.exe: warning: cannot find entry symbol func; defaulting to 00401000\nPS C:\\Users\\shoucheng.mi\\Desktop\\out> .\\a.exe\n\nhello world\nPS C:\\Users\\shoucheng.mi\\Desktop\\out>\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[n("strong",[s._v("总结一下：")])]),s._v(" "),n("p",[s._v("​\t\t"),n("strong",[s._v("1.CPU面前函数没有主次之分，main函数的实现方法和普通函数完全一样；")])]),s._v(" "),n("p",[s._v("​\t\t"),n("strong",[s._v("2.main函数是很多函数的默认起点，但绝不是非他不可，任何函数都可以被设置为程序起点。")])]),s._v(" "),n("p",[s._v("​")])])}),[],!1,null,null,null);n.default=a.exports}}]);